package com.fabrica.sisgene.dao;

import com.fabrica.sisgene.domain.CaratulaEncuesta;
import com.fabrica.sisgene.domain.DetEncuesta;
import com.fabrica.sisgene.domain.Opcion;
import java.util.List;
import javax.persistence.Query;
import org.springframework.stereotype.Repository;
import org.springframework.transaction.annotation.Transactional;

@Repository("opcionDao")
@Transactional
public class OpcionDaoImpl extends GenericDaoImpl<Opcion, String> implements OpcionDao {

    public OpcionDaoImpl() {
        super(Opcion.class);
    }

    @Override
    public List<DetEncuesta> findByEncuesta(CaratulaEncuesta car) {
        List<DetEncuesta> rol = em.createQuery("select det from DetEncuesta det where det.caeId =:car ")
                .setParameter("car", car)
                .getResultList();
        return rol;
    }
}
